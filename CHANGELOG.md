# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

## 5.1.0 - 2020-12-09

* Add organization team and member main events [JSReds]

## 5.0.2 - 2020-12-08

* Add GH CODEOWNERS to the repo [Thodoris Greasidis]

## 5.0.1 - 2020-12-08

* Add missing types entry in pakcage.json [Thodoris Greasidis]

## 5.0.0 - 2020-12-04

* *BREAKING*: Stop actively supporting node versions below v10 [Thodoris Greasidis]
* Include typings [Thodoris Greasidis]
* Use a context object instead of tail id arguments [Thodoris Greasidis]
* Bump minimum supported TypeScript version to 4.1 [Thodoris Greasidis]
* Limit the published files [Thodoris Greasidis]

## 4.1.1 - 2020-12-04

* Update balena-config-karma to fix balenaCI tests [Thodoris Greasidis]
* test: Update GA mock checks for the latest client behavior [Thodoris Greasidis]

## 4.1.0 - 2020-07-15


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### balena-universal-ga-2.0.1 - 2020-07-15
> 
> * Fix ga-loader inclusion [Pagan Gazzard]
> 
> ### balena-universal-ga-2.0.0 - 2020-07-15
> 
> * Add .versionbot/CHANGELOG.yml for nested changelogs [Pagan Gazzard]
> * Switch to native promises [Pagan Gazzard]
> * Add linting [Pagan Gazzard]
> * Add type checking [Pagan Gazzard]
> * Rename to balena [Pagan Gazzard]
> 
> ### balena-universal-ga-1.3.0 - 2019-04-10
> 
> * Move the package to a dedicated repo [Dimitrios Lytras]
> 
> ### balena-universal-gosquared-1.0.1 - 2020-07-15
> 
> * Fix gs-loader inclusion [Pagan Gazzard]
> 
> ### balena-universal-gosquared-1.0.0 - 2020-07-15
> 
> * Add .versionbot/CHANGELOG.yml for nested changelogs [Pagan Gazzard]
> * Switch to native promises [Pagan Gazzard]
> * Add linting [Pagan Gazzard]
> * Add type checking [Pagan Gazzard]
> * Rename to balena [Pagan Gazzard]
> 
> ### balena-universal-gosquared-0.3.0 - 2019-04-16
> 
> * Move the package to a dedicated repo [Dimitrios Lytras]
> 
</details>

# v4.0.1
## (2020-07-15)

* Add .versionbot/CHANGELOG.yml for nested changelogs [Pagan Gazzard]

# v4.0.0
## (2020-07-15)

* Switch to native promises [Pagan Gazzard]

# v3.1.0
## (2020-05-29)

* Add deploy with balena open event [Stevche Radevski]

# v3.0.0
## (2020-05-28)

* Stop leaking Amplitude interface [Roman Mazur]
* Replace mixpanel with analytics-client [Roman Mazur]

# v2.0.0
## (2020-05-07)

* Rename module to @balena/event-log [Pagan Gazzard]

# v1.25.1
## (2020-05-07)

* Add types packages for better type checking [Pagan Gazzard]
* Update references to balena [Pagan Gazzard]
* Reduce lodash usage [Pagan Gazzard]

# v1.25.0
## (2020-05-07)

* Make use of balena-lint [Pagan Gazzard]
* Add type checking and transpilation to enable modern js features [Pagan Gazzard]

# v1.24.0
## (2020-04-29)

* Add Application invite events [Amit Solanki]

# v1.23.0
## (2020-04-28)

* Add deploy to balena cancel event [Stevche Radevski]

# v1.22.0
## (2020-03-30)

* fix: versioning [JSReds]
* add: getting started guide logs [JSReds]

## 1.21.0 - 2020-03-13

* Add application member events [Stevche Radevski]
* Fix tests to pass due to changes in mixpanel browser library [Stevche Radevski]

## 1.20.0 - 2019-10-23

* Add onboarding events [Stevche Radevski]

## 1.19.0 - 2019-10-03

* Add a method for merging user timelines [Roman Mazur]

## 1.18.0 - 2019-09-20

* Device-diagnostics: add events for on-device diagnostics [Matthew McGinn]

## 1.17.1 - 2019-09-16

* Fix release event names [Stevche Radevski]

## 1.17.0 - 2019-09-16

* Add release-related events [Stevche Radevski]

## 1.16.0 - 2019-09-13

* Add account delete event [Thodoris Greasidis]

## 1.15.0 - 2019-09-13

* Bump mixpanel version [Roman Mazur]

## 1.14.0 - 2019-08-13

* Add pinToRelease event [Stevche Radevski]

## 1.13.0 - 2019-06-27

* Add os config download log event [Stevche Radevski]

## 1.12.0 - 2019-04-19

* Introduce 'getDistinctId' & 'identify' [Dimitrios Lytras]

## 1.11.1 - 2019-04-19

* Use balena-karma-config to work on balenaCI [Thodoris Greasidis]

## 1.11.0 - 2019-04-05

* Introduce 'Navigation click' event [Dimitrios Lytras]

## 1.10.0

* Include events for Application members

## 1.9.1

* Move 'deactivate' event to device instead of application

## 1.9.0

* Include 'deactivate' device event

## 1.8.0

* Add application & device actions, apiKeys, vars, tags & billing events.

## 1.7.2

* Conditionally load GA script to prevent dupes

## 1.7.1

* Send GA pageviews as pageview instead of event

## 1.7.0

* Add a new user event for username edit

## 1.6.0

* Allow anon login and event tracking

## 1.5.0

* Add a new event for host OS updates on devices

## 1.4.0

* Accept a new `mixpanelHost` option to override the mixpanel API domain

## 1.3.0

* Mixpanel users will be created if they do not exist on `login`/`signup` in Node (this previously only happened in the browser).
* Mixpanel is now bundled, and loaded synchronously, so should never fail to load.

#### 1.2.0

* Return rejected promises from the GA methods instead of throwing (prevents unhandled errors in the downstream code)

#### 1.1.1

* Make GA more resilient to incorrect usage and tracking problems

#### 1.1.0

* Now running $set (instead of $set_once) for the user props we'd like to keep up to date

#### 1.0.0

* **Breaking!** `mixpanelToken` is not mandatory anymore. If not provided events are not reported to Mixpanel (a warning is printed in `debug` mode).
* Added `debug` option
* **Breaking!** Now all the options are combined into a single object, `subsystem` param is now known as `prefix`, see README
* **Breaking!** The `afterCreate` hook now receives `error` as the first argument
* Convert to JS

#### 0.1.1

* Fix bower version

#### 0.1.0

* Updated lodash to ^4.0.0
